(function(){$(function(){var a,b,c,d,e,f,g,h,i,j,k,l;return console.log(data[0]),j=6,i=0,g=function(a,b){return a.contains(b)},f=function(a){return null==a?!1:"number"==typeof a?!0:!isNaN(a-0)},e=function(a){var b,c;if(b=$("#movFilter").val(),null==b||""===b.trim())return!0;if(f(b)){if(c=parseFloat(b),10>c&&a.rating>=c)return!0;if(c>1500&&a.year===c)return!0}return g(a.label,b)||g(a.originaltitle,b)||g(a.genre.join(),b)},b=function(a,b){return Array.isArray(a)&&(a=a.join(", ")),a.length-3>b?""+a.substr(0,b-3)+"...":null!=a?"":void 0},h=function(a){return a=new Date(a.substr(0,10)),""+a.getDate()+"."+(a.getMonth()+1)+"."+a.getFullYear()},l=function(a){var c,d,f,g;for($("table.movies tbody").html(""),c=0,f=0,g=data.length;g>f;f++)if(d=data[f],e(d)){if(a--,a>=1)continue;c++,j>c&&$("table.movies tbody").append('						<tr data-id="'+d.movieid+'">							<td>'+d.label+"</td>							<td>"+d.originaltitle+"</td>							<td>"+d.year+"</td>							<td>"+d.rating.toPrecision(2)+'</td>							<td class="show-for-medium-up">'+b(d.genre,25)+"</td>							<td>"+h(d.dateadded)+"</td>						</tr>")}return c>j?$("table.movies tfoot td.amount").html("and "+(c-j)+" more..."):$("table.movies tfoot td.amount").html("")},d=function(a){var b,c,d;for(c=0,d=data.length;d>c;c++)if(b=data[c],b.movieid===a)return b},c=function(a){var b,c,d,e,f;for(c="<dl class=inline-list>",f=a.cast,d=0,e=f.length;e>d;d++)b=f[d],c+="<dt>"+b.name+"</dt><dd>"+b.role+"</dd>";return c+="</dl>"},k=function(a){var b;return b=d(a),null!=b?($(".details .year").html(b.year),$(".details .title").html(b.label),$(".details .tagline").html(b.tagline),$(".details .plot").html(b.plot),$(".details .genre").html(b.genre.join(", ")),$(".details .cast").html(c(b)),$(".details .writer").html(b.writer.join(", ")),$(".details .director").html(b.director.join(", ")),$(".details .country").html(b.country),$(".details .id").html(b.movieid),$(".details .poster").attr("src","./thumbs/"+a+".jpg")):void 0},$("#movFilter").on("keyup",function(){return i=0,l()}),$("span.for").click(function(){return i+=j,l(i)}),$("span.back").click(function(){return i-=j,0>i&&(i=0),l(i)}),$(".movies tbody").on("click","tr",function(){var a;return $(".clickToDetail").hide(),a=$(this).data("id"),$(".details:visible").length<=0?(k(a),$(".details").show("drop")):$(".details").hide("drop",function(){return k(a),$(".details").show("drop")})}),a=function(a,b){var c;return null!=(c=$(b).text()<$(a).text())?c:{1:-1}},$(".addToSelection").on("click",function(){var b;return $(".selectionHint").hide(),b=$(".id").html(),$(".selection li.id-"+b).length<=0?($(".selection ul").append('<li class="id-'+b+'">'+$(".title").html()+"</li>"),$(".selection ul > li").sort(a).appendTo(".selection ul")):void 0}),l()})}).call(this);